<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-button slot="icon" (click)="closeModal()">
        <ion-icon class="icon" name="arrow-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title class="title-ios ion-text-capitalize">الفاتورة</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
    <div id="PrintInvoice" class="invoice-box" style="max-width: 800px; margin: auto; padding: 30px; border: 1px solid #eee; box-shadow: 0 0 10px rgba(0, 0, 0, .15); font-size: 16px; line-height: 24px; font-family: 'Helvetica Neue', 'Helvetica', Helvetica, Arial, sans-serif; color: #555;">
      <table cellpadding="0" cellspacing="0" style="width: 100%; line-height: inherit; text-align: left;">
        <tr class="top">
          <td colspan="2" style="padding: 5px; vertical-align: top;">
            <table style="width: 100%; line-height: inherit; text-align: left;">
              <tr>
                <td style="padding: 5px; vertical-align: top; text-align: right; padding-bottom: 20px;">
                  <label>رقم الفاتورة:</label>
                  <ion-textarea style="border: none;" [(ngModel)]="invoiceNumber" type="text" placeholder="أدخل رقم الفاتورة"></ion-textarea><br>
                  <label>تاريخ الفاتورة:</label>
                  <ion-datetime [(ngModel)]="invoiceDate" placeholder="تاريخ الفاتورة" display-format="YYYY-MM-DD"></ion-datetime><br>
                <label>{{invoiceDate}}</label>
                </td>
              </tr>
            </table>
          </td>
        </tr>

        <tr class="information">
          <td colspan="2" style="padding: 5px; vertical-align: top;">
            <table style="width: 100%; line-height: inherit; text-align: left;">
              <tr>
                <td style="padding: 5px; vertical-align: top; padding-bottom: 40px;">
                  <label>المعلومات:</label>
                  <ion-textarea style="border: none;" [(ngModel)]="address" placeholder="أدخل العنوان"></ion-textarea>
                </td>
                <td style="padding: 5px; vertical-align: top; text-align: right; padding-bottom: 40px;">
                  <label>الاسم:</label>
                  <ion-textarea style="border: none;" [(ngModel)]="customerName" type="text" placeholder="أدخل الاسم"></ion-textarea>
                </td>
              </tr>
            </table>
          </td>
        </tr>

        <tr class="heading">
          <td style="padding: 5px; vertical-align: top; background: #eee; border-bottom: 1px solid #ddd; font-weight: bold;">
            العملية
          </td>
          <td style="padding: 5px; vertical-align: top; text-align: right; background: #eee; border-bottom: 1px solid #ddd; font-weight: bold;">
            رقم العملية
          </td>
        </tr>

        <tr class="details">
          <td style="padding: 5px; vertical-align: top; padding-bottom: 20px;">
            <label>الكرت المالي:</label>
          </td>
          <td style="padding: 5px; vertical-align: top; text-align: right; padding-bottom: 20px;">
            <ion-textarea [(ngModel)]="transactionNumber" type="text" placeholder="أدخل رقم العملية"></ion-textarea>
          </td>
        </tr>

        <tr class="heading">
          <td style="padding: 5px; vertical-align: top; background: #eee; border-bottom: 1px solid #ddd; font-weight: bold;">
            العنصر
          </td>
          <td style="padding: 5px; vertical-align: top; text-align: right; background: #eee; border-bottom: 1px solid #ddd; font-weight: bold;">
            السعر
          </td>
        </tr>

        <tr class="item" *ngFor="let item of items; let i = index">
          <td style="padding: 5px; vertical-align: top; border-bottom: 1px solid #eee;">
            <ion-textarea style="border: none;" [(ngModel)]="item.name" placeholder="أدخل اسم العنصر"></ion-textarea>
          </td>
          <td style="padding: 5px; vertical-align: top; text-align: right; border-bottom: 1px solid #eee;">
            <ion-textarea [(ngModel)]="item.price" type="number" placeholder="أدخل السعر" style="border: none;" (ionChange)="calculateTotal($event)"></ion-textarea>
          </td>
        </tr>

        <tr class="total">
          <td style="padding: 5px; vertical-align: top;">
            <ion-button expand="block" fill="outline" (click)="addItem()">+ أضف عنصر</ion-button>
          </td>
          <td style="padding: 5px; vertical-align: top; text-align: right; border-top: 2px solid #eee; font-weight: bold;">
            <label>المجموع:</label> {{ total }}
          </td>
        </tr>
      </table>
    </div>
</ion-content>

<ion-footer>
  <ion-toolbar color="light" class="ion-padding-horizontal">
    <div class="ion-text-center">
      <ion-button expand="block" (click)="downloadInvoice()">طباعة الفاتورة</ion-button>
    </div>
  </ion-toolbar>
</ion-footer>
